(this["webpackJsonpreact-complete-guide"]=this["webpackJsonpreact-complete-guide"]||[]).push([[1],{10:function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return m}));var c,a=n(12),r=n.n(a),i=n(18),o=n(7),l=n(0),s=n.n(l),u=n(1),j=s.a.createContext(),b=function(e){var t=(new Date).getTime();return new Date(e).getTime()-t},d=function(e){var t,n=function(){var e=localStorage.getItem("token"),t=localStorage.getItem("expirationTime"),n=b(t);return n<=6e4?(localStorage.removeItem("token"),localStorage.removeItem("email"),localStorage.removeItem("expirationTime"),null):{token:e,duration:n}}();n&&(t=n.token);var a=localStorage.getItem("email"),s=Object(l.useState)(null),d=Object(o.a)(s,2),m=d[0],O=d[1],x=Object(l.useState)(a),f=Object(o.a)(x,2),h=f[0],g=f[1],p=Object(l.useState)(t),v=Object(o.a)(p,2),S=v[0],k=v[1],I=!!S,w=Object(l.useCallback)((function(){k(null),g(null),localStorage.removeItem("token"),localStorage.removeItem("email"),localStorage.removeItem("expirationTime"),c&&clearTimeout(c)}),[]);Object(l.useEffect)((function(){n&&(c=setTimeout(w,n.duration))}),[n,w]);var T=Object(l.useState)(!0),y=Object(o.a)(T,2),P=y[0],z=y[1],E=Object(l.useState)([]),H=Object(o.a)(E,2),L=H[0],C=H[1],D=Object(l.useState)(""),J=Object(o.a)(D,2),N=J[0],A=J[1];return Object(l.useEffect)((function(){(function(){var e=Object(i.a)(r.a.mark((function e(){var t,n,c,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return z(!0),e.next=3,fetch("https://parklane-24dk-default-rtdb.firebaseio.com/places.json?auth=".concat(S));case 3:if((t=e.sent).ok){e.next=6;break}throw new Error("Something went wrong!");case 6:return e.next=8,t.json();case 8:for(a in n=e.sent,c=[],n)c.push({id:a,name:n[a].name,info:n[a].info,price:n[a].price,image:n[a].image});C(c),z(!1);case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()().catch((function(e){console.log(e),z(!1)}))}),[S]),Object(u.jsx)(j.Provider,{value:{isLogin:m,token:S,email:h,loading:P,places:L,searchTerm:N,setSearchTerm:A,isLoggedIn:I,switchAuthModeHandler:function(e){O("Log in"===e)},loginHandler:function(e,t){k(e),localStorage.setItem("token",e),localStorage.setItem("expirationTime",t);var n=b(t);c=setTimeout(w,n)},logoutHandler:w,emailHandler:function(e){g(e),localStorage.setItem("email",e)}},children:e.children})},m=function(){return Object(l.useContext)(j)}},17:function(e,t,n){"use strict";n(0);var c=n(1);t.a=function(){return Object(c.jsx)("div",{className:"centered",children:Object(c.jsxs)("div",{className:"lds-grid",children:[Object(c.jsx)("div",{}),Object(c.jsx)("div",{}),Object(c.jsx)("div",{}),Object(c.jsx)("div",{}),Object(c.jsx)("div",{}),Object(c.jsx)("div",{}),Object(c.jsx)("div",{}),Object(c.jsx)("div",{}),Object(c.jsx)("div",{})]})})}},25:function(e,t,n){},36:function(e,t,n){"use strict";n.r(t);var c=n(19),a=n.n(c),r=n(11),i=(n(25),n(0)),o=n.n(i),l=n(2),s=n(10),u=n(17),j=n(1),b=o.a.lazy((function(){return Promise.all([n.e(0),n.e(7)]).then(n.bind(null,57))})),d=o.a.lazy((function(){return Promise.all([n.e(0),n.e(4)]).then(n.bind(null,58))})),m=o.a.lazy((function(){return Promise.all([n.e(0),n.e(6)]).then(n.bind(null,59))})),O=o.a.lazy((function(){return Promise.all([n.e(0),n.e(8)]).then(n.bind(null,60))})),x=o.a.lazy((function(){return Promise.all([n.e(0),n.e(5)]).then(n.bind(null,49))}));var f=function(){var e=Object(s.b)().isLoggedIn;return Object(j.jsx)(i.Suspense,{fallback:Object(j.jsx)(u.a,{}),children:Object(j.jsxs)(l.d,{children:[Object(j.jsx)(l.b,{path:"/",exact:!0,children:Object(j.jsx)(d,{})}),Object(j.jsxs)(l.b,{path:"/auth",children:[e&&Object(j.jsx)(d,{}),!e&&Object(j.jsx)(b,{})]}),e&&Object(j.jsx)(l.b,{path:"/profile",exact:!0,children:Object(j.jsx)(x,{})}),e&&Object(j.jsx)(l.b,{path:"/bookings",exact:!0,children:Object(j.jsx)(O,{})}),e&&Object(j.jsx)(l.b,{path:"/profile/:placeId",children:Object(j.jsx)(m,{})}),Object(j.jsx)(l.b,{path:"*",children:Object(j.jsx)(l.a,{to:"/"})})]})})};a.a.render(Object(j.jsx)(r.a,{children:Object(j.jsx)(s.a,{children:Object(j.jsx)(f,{})})}),document.getElementById("root"))}},[[36,2,3]]]);
//# sourceMappingURL=main.b0b6b3c4.chunk.js.map